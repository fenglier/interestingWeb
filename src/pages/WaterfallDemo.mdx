
import Masonry2 from "../components/Cards2/Masonry2";
import data1 from "../assets/data1.json";
import data2 from "../assets/data2.json";

export  const Masonry2Demo = () => {
  const getData = async (source) => {
    if (source > 2) {
      throw new Error("Invalid data source");
    }
    /* 模拟页面加载是获取数据 */
    const colorArr = ["#cdb4db", "#ffc8dd", "#ffafcc", "#bde0fe", "#a2d2ff"];
    let data = await Promise.resolve(source == 1 ? data1 : data2);
    let temp_data1 = data.data.items.map((i, index) => ({
      id: i.id,
      url: i.note_card.cover.url_pre,
      backgroundColor: colorArr[index % colorArr.length],
      width: i.note_card.cover.width,
      height: i.note_card.cover.height,
      title: i.note_card.display_title,
      auhtor: i.note_card.user.nick_name,
      like: Number(i.note_card.interact_info.liked_count),
      left: 0, // Default value for left
      top: 0, // Default value for top
    }));
    return temp_data1;
  };
  return (
    <>
      <div className="theme">
        使用Masonry,left top实现瀑布流，通过获取真实dom，确定left和top
      </div>
      <div className="BFC">
        <Masonry2 getData={getData}/>
      </div>
    </>
  );
};

# 瀑布流

使用 Masonry,left top 实现瀑布流，通过获取真实 dom，确定 left 和 top

---

## 🎬 效果展示

## <Masonry2Demo/>

## 💡 使用方法

```tsx
export  const Masonry2Demo = () => {
  const getData = async (source) => {
    if (source > 2) {
      throw new Error("Invalid data source");
    }
    /* 模拟页面加载是获取数据 */
    const colorArr = ["#cdb4db", "#ffc8dd", "#ffafcc", "#bde0fe", "#a2d2ff"];
    let data = await Promise.resolve(source == 1 ? data1 : data2);
    let temp_data1 = data.data.items.map((i, index) => ({
      id: i.id,
      url: i.note_card.cover.url_pre,
      backgroundColor: colorArr[index % colorArr.length],
      width: i.note_card.cover.width,
      height: i.note_card.cover.height,
      title: i.note_card.display_title,
      auhtor: i.note_card.user.nick_name,
      like: Number(i.note_card.interact_info.liked_count),
      left: 0, // Default value for left
      top: 0, // Default value for top
    }));
    return temp_data1;
  };
  return (
    <>
      <div className="theme">
        使用Masonry,left top实现瀑布流，通过获取真实dom，确定left和top
      </div>
      <div className="BFC">
        <Masonry2 getData={getData}/>
      </div>
    </>
  );
};
```
